<!DOCTYPE html>
<html class="ui-mobile-rendering">
<head>
        <title>YesWeScore</title>
        <meta name="viewport" content="user-scalable=no,width=device-width" />
        
        
        <link rel="stylesheet" href="styles/jquery.mobile-1.2.0.min.css">
        <link rel="stylesheet" href="styles/main.css">           
         
    <!-- we will use cordova 2.2 to package the mobile application-->
    <script type="text/javascript">
    var prompt = function (strA, strB) { console.log("prompt: " + strB + strA); };
    </script>
     
    <script type="text/javascript" src="scripts/cordova-2.4.0.js"></script> 
        
    
        <!-- JQuery -->
        <script type="text/javascript" src="scripts/jquery.min.js"></script>
        
        <!-- Config --> 
  
        <script type="text/javascript" src="js/jqm-config.js"></script>  
        <script type="text/javascript" src="js/app-config.js"></script> 
        
        <!-- Libraries -->  
        <script type="text/javascript" src="scripts/jquery.mobile-1.2.0.min.js"></script>
         
        <script type="text/javascript" src="scripts/lodash.min.js"></script>
        <script type="text/javascript" src="scripts/backbone-min.js"></script>

        <script type="text/javascript" src="scripts/backbone.offline.js"></script>
        
        <script type="text/javascript" src="scripts/backbone.poller.min.js"></script>
          
        <!-- Core -->   
        <script type="text/javascript" src="js/models/config.js"></script>
        <script type="text/javascript" src="js/models/game.js"></script>
        <script type="text/javascript" src="js/models/stream.js"></script>      
        <script type="text/javascript" src="js/models/player.js"></script>
        <script type="text/javascript" src="js/models/club.js"></script>        
        <script type="text/javascript" src="js/models/version.js"></script> 
                        
        <script type="text/javascript" src="js/collections/games.js"></script>
        <script type="text/javascript" src="js/collections/players.js"></script>        
        <script type="text/javascript" src="js/collections/clubs.js"></script>          
     
    <!-- Views -->
    <script type="text/javascript" src="js/views/account.js"></script> 
        <script type="text/javascript" src="js/views/club.js"></script> 
        <script type="text/javascript" src="js/views/game.js"></script> 
        <script type="text/javascript" src="js/views/gameadd.js"></script> 
        <script type="text/javascript" src="js/views/gameend.js"></script> 
        <script type="text/javascript" src="js/views/gamefollow.js"></script>   
        <script type="text/javascript" src="js/views/gamelist.js"></script>     
        <script type="text/javascript" src="js/views/index.js"></script> 
        <script type="text/javascript" src="js/views/player.js"></script> 
        <script type="text/javascript" src="js/views/playerfollow.js"></script> 
        <script type="text/javascript" src="js/views/playerform.js"></script> 
        <script type="text/javascript" src="js/views/playerlist.js"></script> 
        <script type="text/javascript" src="js/views/playersignin.js"></script> 
    <script type="text/javascript" src="js/views/index.js"></script>
    <script type="text/javascript" src="js/views/game.js"></script>
    <script type="text/javascript" src="js/tools.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

</head>
<body>

<div id="index" data-role="page">
</div>

<!-- TEMPLATE START -->


<!-- TEMPLATE END -->


<script type="text/javascript" charset="utf-8">
  document.addEventListener("deviceready", onDeviceReady, false);
  function onDeviceReady() {
      /*navigator.splashscreen.hide();*/
      
      localStorage.clear();
      
      navigator.geolocation.getCurrentPosition(onGeoSuccess, onError);
      checkConnection();
      
      window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFileSuccess, onError);
      
      //phone init code that manipulates the DOM...
      //$.mobile.initializePage();
  }
  
  function onGeoSuccess(position) {
  
        appConfig.latitude = position.coords.latitude;
    appConfig.longitude = position.coords.longitude;
    
    console.log('GeoSuccess',appConfig);
  
  }
  
  function onError(position) {
        console.log('GeoError');
        
        
  }    
  
  // alert dialog dismissed
  function alertDismissed() {
      // do something
  }

  // Show a custom alert
  //
  function showAlert() {
      navigator.notification.alert(
          'You are the winner!',  // message
          alertDismissed,         // callback
          'Game Over',            // title
          'Done'                  // buttonName
      );
  }
  

  function checkConnection() {
  

      var networkState = navigator.connection.type;

      if (networkState==='none') 
        appConfig.networkState='false';
      else 
        appConfig.networkState='true';
   

  }   
  
  
	function onFileSuccess(fileSystem) {
        fileSystem.root.getFile("yeswescore.csv", {create: true, exclusive: false}, gotFileEntry, onError);
    }

    function gotFileEntry(fileEntry) {
        fileEntry.createWriter(gotFileWriter, onError);
    }

    function gotFileWriter(writer) {
         writer.write("test1,test2,test3");
    }  
  
  
   
</script>  
<!-- 
<script src="http://plic.no-ip.org:8080/target/target-script-min.js#vincent"></script>
 -->
</body>
</html>